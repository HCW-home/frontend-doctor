<form
  *ngIf="myForm"
  (submit)="onSubmit()"
  class="invite-form"
  [formGroup]="myForm"
>
  <h1 mat-dialog-title style="display: block !important;">
    {{ 'profileUpdate.updateTheProfile' | translate }}
  </h1>
  <div mat-dialog-content class="dialog-content">
    <!-- <p>Send an invitation</p> -->
    <div class="field-container">
      <mat-form-field>
        <mat-label class="label">{{ 'profileUpdate.firstname' | translate }}</mat-label>
        <input
          [(ngModel)]="data.firstName"
          matInput
          placeholder="{{ 'profileUpdate.enterPatientFirstname' | translate }}"
          formControlName="firstNameFormControl"
          [errorStateMatcher]="matcher"
          required
        />

        <mat-error
          *ngIf="myForm.controls.firstNameFormControl.hasError('required')"
        >
          {{ 'profileUpdate.theFirstnameIs' | translate }} <strong>{{ 'profileUpdate.required' | translate }}</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="field-container">
      <mat-form-field>
        <mat-label class="label">{{ 'profileUpdate.lastname' | translate }}</mat-label>
        <input
          [(ngModel)]="data.lastName"
          matInput
          placeholder="{{ 'profileUpdate.enterPatientLastname' | translate }}"
          formControlName="lastNameFormControl"
          [errorStateMatcher]="matcher"
          required
        />

        <mat-error
          *ngIf="myForm.controls.lastNameFormControl.hasError('required')"
        >
          {{ 'profileUpdate.theLastnameIs' | translate }} <strong>{{ 'profileUpdate.required' | translate }}</strong>
        </mat-error>
      </mat-form-field>
    </div>



    <div class="field-container">
      <mat-form-field>
        <mat-label class="label">{{ 'profileUpdate.department' | translate }}</mat-label>
        <input
            [(ngModel)]="data.department"
            matInput
            placeholder="{{ 'profileUpdate.enterDepartmentName' | translate }}"
            formControlName="departementNameFormControl"
            [errorStateMatcher]="matcher"
            required
          />

          <mat-error
            *ngIf="myForm.controls.firstNameFormControl.hasError('required')"
          >
           {{ 'profileUpdate.department' | translate }} <strong>{{ 'profileUpdate.required' | translate }}</strong>
          </mat-error>
        </mat-form-field>
      </div>

    <div class="field-container">
      <mat-form-field>
        <mat-label class="label">{{ 'profileUpdate.mobilePhoneNumber' | translate }}</mat-label>
        <input
          [(ngModel)]="data.number"
          matInput
          placeholder="{{ 'profileUpdate.enterMobileNumber' | translate }}"
          formControlName="phoneNumberFormControl"
          [errorStateMatcher]="matcher"
          name="phoneNumber"
          required
        />

        <mat-error *ngIf="myForm.controls.phoneNumberFormControl.hasError('pattern')">
          {{ 'profileUpdate.pleaseFillUpThePhoneNumberWithFormat' | translate }}
        </mat-error>
        <mat-error *ngIf="myForm.controls.phoneNumberFormControl.hasError('required')">
          {{ 'profileUpdate.mobilePhoneNumber' | translate }} <strong>{{ 'profileUpdate.required' | translate }}</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <mat-error *ngIf="myForm.hasError('error')">
      {{ 'profileUpdate.pleaseOnlyFillUpAnEmailOrAnMobilePhoneNumber' | translate }}
    </mat-error>
    <div *ngIf="error" class="error">
      {{ error }}
    </div>
  </div>

  <div *ngIf="loading" class="loading darkoverlay">
    <mat-spinner [diameter]="35"></mat-spinner>
  </div>

  <div mat-dialog-actions>
    <button mat-button (click)="onNoClick()" type="button">
      {{ 'profileUpdate.cancel' | translate }}
    </button>
    <button class="btn__send" [disabled]="loading" type="submit" mat-button>
      {{ 'profileUpdate.send' | translate }}
    </button>
  </div>
</form>
